.cursorrules
# 프로젝트 규칙 (Project Rules)



## 1. 기술 스택 & 환경 (Tech Stack)

- **Core:** 순수 HTML, CSS, JavaScript (Vanilla JS) 사용.

- **Backend:** Vercel Serverless Function (`api/notion.js`) 사용.

- **Constraint:** 복잡한 프레임워크(React, Vue 등) 절대 사용 금지. 단일 파일(Single HTML File) 구조 유지.

- **Cache Strategy:** `localStorage`를 적극 활용하여 '낙관적 UI(Optimistic UI)'를 구현한다. (새로고침 해도 데이터가 유지되어야 함)



## 2. 날짜 및 시간 로직 (★치명적 중요★)

- 서버(Vercel)와 클라이언트(Browser)의 타임존 차이로 인한 데이터 증발을 막기 위해, 반드시 **한국 시간(KST)** 기준으로 통일한다.

- 모든 날짜 생성 시 `new Date()` 대신 아래 함수를 필수적으로 사용한다:

  ```javascript

  function getTodayISO() {

    return new Date().toLocaleDateString('sv-SE', { timeZone: 'Asia/Seoul' });

  }

3. 노션 연동 & 데이터 무결성 (Integrity)

좀비 데이터 방지 (Zombie Prevention):

삭제 시: 화면에서 즉시 filter로 제거하고, localStorage의 DELETED_KEY (블랙리스트)에 ID를 기록한다.

동기화 시: 서버에서 데이터가 내려와도, 로컬 블랙리스트에 있는 ID라면 무시한다.

백엔드 API 규칙 (api/notion.js):

action: 'update'는 done(완료) 뿐만 아니라 date(날짜 변경/미루기) 수정도 처리할 수 있어야 한다.

노션 API의 페이지네이션(100개 제한)을 고려하여 has_more 체크 로직을 유지한다.

4. 디자인 스타일 (Design System)

폰트 규칙:

영문/숫자: 'Press Start 2P' (레트로 픽셀 감성)

한글: 'Noto Sans KR' (가독성 확보, 깨짐 방지)

컬러 팔레트:

배경: #111319 (다크 모드)

텍스트: #e9eef7

포인트: #82aaff (블루), #ff6fb1 (핑크/이벤트)

UI 원칙: 위젯용이므로 모바일 반응형보다는 고정된 비율과 레이아웃 유지를 우선한다.
